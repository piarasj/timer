# Session Timer

A visual analog clock timer with support for single and multiple timer segments, configurable via URL parameters or menu interface. Useful when wishing to avoid the distraction of making time calculations. 

- Proven use with [iCab](https://www.icab.de/) in using xurl:

```
x-icabmobile://x-callback-url/open?url=[location]/timer.html?s=a,22:22,40&destination=currentTab&fullscreen=yes
```

- [iCab - The Taxi for the Internet](https://www.icab.de/) in kiosk mode shows no chrome and keeps iPhone awake.

Made with respect to [Dieter Rams](https://rams-foundation.org/).

-----
Two versions

- [Timer loading json file](index.html) - [Demo](https://piarasj.github.io/timer/index.html)
	- Json generated by [settings](settings.html) -  - [Demo](https://piarasj.github.io/timer/settings.html)
- [Timer set by URL](timer.html) - [Demo](https://piarasj.github.io/timer/timer.html)


## üöÄ **Start Now (Manual Start)**

### Single Timer - Start Immediately
```bash
# Count down 30 minutes (manual start)
timer.html?s=m,12:00,30&mode=down

# Count up 45 minutes (manual start)  
timer.html?s=m,12:00,45&mode=up
```
**Note**: Use `m` instead of `a` for manual start. The time parameter is ignored for manual starts.

## ‚è∞ **Autostart Timers**

### Single Timer - Autostart at Specific Time
```bash
# Autostart at 2:30 PM, count down for 40 minutes (ends at 3:10 PM)
timer.html?s=a,14:30,40&mode=down

# Autostart at 9:00 AM, count up for 60 minutes (ends at 10:00 AM)
timer.html?s=a,09:00,60&mode=up
```

### Multiple Timers - Sequential Autostart
```bash
# Multiple segments with different modes
timer.html?segments=09:00,30,up|10:30,45,down|14:15,60,down

# Full day schedule
timer.html?segments=08:30,90,up|11:00,30,down|13:30,120,down|16:00,45,up
```

## üïê **Set Timer for Later**

### Delayed Single Timer
```bash
# Timer will autostart at 15:30 (3:30 PM) for 25 minutes
timer.html?s=a,15:30,25&mode=down

# Timer will autostart at 20:15 (8:15 PM) for 90 minutes  
timer.html?s=a,20:15,90&mode=up
```

### Scheduled Multiple Timers
```bash
# Evening session - timers start later in the day
timer.html?segments=18:00,45,down|19:30,30,up|21:00,60,down

# Tomorrow morning schedule
timer.html?segments=07:00,30,up|08:15,45,down|10:30,60,down
```

## üìä **Parameter Reference**

### **Single Timer Format**:

```
?S=a,TIME,DURATION&Mode=MODE
```


| Parameter | Description | Values |
|-----------|-------------|--------|
| `s` | Timer configuration | `a` = autostart, `m` = manual |
| `TIME` | Time in HH:MM format | `09:30`, `14:45`, etc. |
| `DURATION` | Duration in minutes | `30`, `45`, `120`, etc. |
| `mode` | Count direction | `up` or `down` |

### **Multiple Timer Format**:

```
?segments=TIME,DURATION,MODE|TIME,DURATION,MODE|...
```

| Component | Description | Example |
|-----------|-------------|--------|
| `TIME` | HH:MM format | `09:00`, `13:30` |
| `DURATION` | Minutes | `30`, `45`, `90` |
| `MODE` | Count direction | `up`, `down` |
| `|` | Separator between segments | `09:00,30,up|10:30,45,down` |
√∑
## üéØ **Practical Examples**

**Workout Session**
Warm-up + Main + Cool-down
```
timer.html?segments=06:00,15,up|06:15,45,down|07:00,10,up
```

**Work Pomodoro**
25min work + 5min break + 25min work + 15min break
```
timer.html?segments=09:00,25,down|09:25,5,up|09:30,25,down|09:55,15,up
```

**Cooking Schedule**
Prep + Cook + Rest
```
timer.html?segments=17:30,20,up|17:50,35,down|18:25,10,up
```

**Study Sessions**
Morning study blocks
```
timer.html?segments=08:00,50,down|09:00,10,up|09:10,50,down|10:10,20,up
```

## üîç **Time Interpretation Guide**

**Count Down Mode** (`mode=down` or default)
- **URL Time = END TIME**
- Timer calculates when to start based on duration
- Example: `s=a,15:00,30` means "end at 3:00 PM after 30 minutes" (starts at 2:30 PM)

**Count Up Mode** (`mode=up`)
- **URL Time = START TIME**  
- Timer starts at specified time and runs for duration
- Example: `s=a,15:00,30` means "start at 3:00 PM for 30 minutes" (ends at 3:30 PM)

## ‚ö° **Quick Reference**

### **Start Now**
```bash
timer.html?s=m,00:00,30    # 30 minutes, manual start
```

### **Start at Specific Time**
```bash
timer.html?s=a,14:30,45    # Start at 2:30 PM for 45 minutes
```

### **Multiple Sessions**
```bash
timer.html?segments=10:00,30,up|11:00,45,down|15:30,60,down
```

### **Mid-Session Join**
If you load a URL after the start time but before the end time, the timer will:
- **Automatically start** mid-session
- **Show elapsed time** in status message
- **Continue normally** until completion

## üõ†Ô∏è **URL Generation**

The hamburger menu automatically generates these URLs when you:
1. Add segments using the UI
2. Configure times and durations  
3. Select count up/down modes
4. Copy the generated URL from the text area

This may make it easier than manually constructing URLs - for some. 

## üçî **Hamburger Menu Features**

### **Settings Panel**
- **Slide-out panel** from the right side
- **Current Schedule** view showing all configured segments
- **Add Segment** form with time, duration, and mode selection
- **URL Configuration** with auto-generated URLs and copy functionality
- **Clear All** button to reset segments

### **User Interface**
- **Three-line hamburger icon** (top right) that animates to X when opened
- **Responsive visibility**: 
  - **Desktop landscape** (height ‚â• 541px): Hamburger menu visible, controls hidden
  - **Kiosk landscape** (height ‚â§ 540px): Both hamburger menu and controls hidden for clean kiosk experience
  - **Portrait mode**: All controls and hamburger menu visible
- **Visual schedule display** with color-coded times
- **Individual segment deletion** with √ó buttons
- **Auto-sorting** segments by time

## üé® **Visual Features**

### **Timer Display**
- **Analog clock** with hour, minute, and second hands
- **Progress arc** showing either remaining time (countdown) or elapsed time (count up)
- **Color transitions**: Green ‚Üí Orange (last 10 minutes) ‚Üí Red (last 5 minutes)
- **Sweep-in animation** on page load
- **Full-screen dark theme** optimized for focus

### **Status Messages**
- **Loading confirmation** showing parsed URL parameters
- **Start/stop notifications** with timestamps
- **Mid-session join** messages with elapsed time
- **Segment addition/deletion** confirmations

## üì± **Usage Examples**

### **Simple 30-minute Focus Session**
```bash
timer.html?s=a,10:30,30&mode=down
```

### **Pomodoro Technique**
```bash
timer.html?segments=09:00,25,down|09:25,5,up|09:30,25,down|09:55,15,up
```

### **Workout Routine**
```bash
timer.html?segments=07:00,10,up|07:10,20,down|07:30,5,up|07:35,20,down|07:55,5,up
```

### **Meeting Schedule**
```bash
timer.html?segments=14:00,45,down|14:50,10,up|15:00,30,down
```

## üîß **Technical Notes**

- **Time format**: 24-hour HH:MM format (e.g., 14:30 for 2:30 PM)
- **Duration**: Minutes only (converted internally to seconds)
- **URL encoding**: Multiple segments are URL-encoded automatically
- **Browser compatibility**: Modern browsers with canvas and JavaScript support
- **Local storage**: Settings persist only during session (URL-based configuration)

## üìã **File Structure**

```
Session-Timer/
‚îú‚îÄ‚îÄ timer.html          # Main application file without json
‚îú‚îÄ‚îÄ index.html          # Version with external json settings file
‚îú‚îÄ‚îÄ settings.html       # Generation of json file
‚îî‚îÄ‚îÄ settings.json       # Fallback JSON configuration

```

The timer is self-contained in a single HTML file with embedded CSS and JavaScript for easy deployment and sharing.




## Accessibility and Cognitive Load Reduction
This application is particularly suitable for individuals who experience difficulties with temporal cognition and calculation. Research indicates that people with dyscalculia often have impaired number sense and difficulties in estimating or manipulating temporal intervals (Butterworth, 2010). Similarly, those with executive function deficits, such as individuals with ADHD, frequently demonstrate ‚Äútime-blindness,‚Äù defined as impaired awareness of elapsed and future time, which can compromise planning and sustained task engagement (Barkley, 1997; Brown, 2005). For such populations, interpreting analogue clocks or performing time arithmetic can present unnecessary cognitive load, distracting from the primary task. By externalizing time tracking, automating calculations, and presenting progress in an intuitive visual form, this application minimizes distraction and supports task persistence.

*References*

- Barkley, R. A. (1997). ADHD and the Nature of Self-Control. New York: Guilford Press.
-  Brown, T. E. (2005). Attention Deficit Disorder: The Unfocused Mind in Children and Adults. Yale University Press.
- Butterworth, B. (2010). Foundational numerical capacities and the origins of dyscalculia. Trends in Cognitive Sciences, 14(12), 534‚Äì541.
